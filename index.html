<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
  <title>Swing Signals Pro</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <div class="app">
    
    <header class="mobile-header">
      <div class="brand-mobile">
        <div class="logo">Î£</div>
        <div class="brand-text">Swing Pro</div>
      </div>
      <button id="btnMenuToggle" class="btn-icon">â˜°</button>
    </header>

    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="brand">
          <div class="logo">Î£</div>
          <div class="brand-text">Swing<span class="highlight">Pro</span></div>
        </div>
        <button id="btnCloseMenu" class="btn-icon mobile-only">âœ•</button>
      </div>
      
      <div class="stats-group">
        <div class="stat-row">
          <span>Date:</span> <span id="pillDate" class="fw-bold">-</span>
        </div>
        <div class="stat-row">
          <span>Rows:</span> <span id="pillRows" class="fw-bold">-</span>
        </div>
        <div class="stat-row">
          <span>Status:</span> <span id="pillStatus" class="fw-bold">Ready</span>
        </div>
      </div>

      <div class="control-area">
        <div id="adminControls" class="admin-buttons" style="display:none;">
          <div class="section-label">DATA DATA</div>
          <label class="btn-primary">
            <input id="fileInput" type="file" multiple accept=".csv,.xlsx" />
            <span>ğŸ“‚ Upload Data</span>
          </label>
          <button id="btnConvert" class="btn-secondary" disabled>ğŸ”„ Konversi XLSX</button>
          <button id="btnUpload" class="btn-secondary" disabled>â˜ï¸ Push ke DB</button>
          <button id="btnAnalyze" class="btn-action" disabled>âš¡ Run Analysis</button>
        </div>

        <div class="auth-area">
          <button id="btnLogin" class="btn-ghost">ğŸ”‘ Login Admin</button>
          <button id="btnLogout" class="btn-danger" style="display:none;">ğŸšª Logout</button>
        </div>
      </div>
    </aside>

    <main class="main">
      <div class="controls-stack">
        
        <div class="control-row filters">
          <select id="filterSignal">
            <option value="ALL">Signal: Semua</option>
            <option value="BUY">Signal: BUY</option>
            <option value="SELL">Signal: SELL</option>
            <option value="WAIT">Signal: WAIT</option>
            <option value="WATCHLIST">â˜… Watchlist</option>
          </select>
          <select id="filterCategory">
            <option value="ALL">Kategori: Semua</option>
            <option value="SHARIA">ğŸ•Œ Syariah</option>
            <option value="NON">ğŸ¢ Non-Syariah</option>
          </select>
        </div>

        <div class="control-row slider-container">
          <label>Min Score: <span id="scoreVal" class="highlight">0</span></label>
          <input type="range" id="scoreSlider" min="0" max="95" value="0" step="5">
        </div>

        <div class="control-row search-container">
          <span class="search-icon">ğŸ”</span>
          <input id="search" placeholder="Cari kode saham..." />
        </div>
      </div>

      <div class="table-container">
        <table class="table" id="signalsTable">
          <thead></thead>
          <tbody></tbody>
        </table>
      </div>
    </main>

    <div id="sidebarOverlay" class="overlay"></div>
  </div>

  <div id="loginModal" class="modal-overlay" style="display:none;">
    <div class="modal-content">
      <h3>Login Admin</h3>
      <input type="text" id="username" placeholder="Username" class="modal-input">
      <input type="password" id="password" placeholder="Password" class="modal-input">
      <div class="modal-actions">
        <button id="btnSubmitLogin" class="btn-action">Masuk</button>
        <button id="btnCloseLogin" class="btn-secondary">Batal</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="./app.js"></script>
</body>
</html>